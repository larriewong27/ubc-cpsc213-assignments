The pointer e in the pop() method was being freed and then being returned. So since e got returned after being deallocated, it created a dangling pointer.